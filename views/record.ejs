<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AdminLTE | Dashboard</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/bower_components/fontawesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <!-- <link href="//code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css" rel="stylesheet" type="text/css" /> -->
    <!-- Theme style -->
    <link href="css/AdminLTE.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="/bower_components/jquery-ui/themes/cupertino/jquery-ui.css"/>

    <!-- jQuery 2.0.2 -->
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- AdminLTE App -->
    <script src="js/AdminLTE/app.js" type="text/javascript"></script>



    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->

    <script src="recordScripts/audiodisplay.js"></script>
    <script src="recordScripts/recorder.js"></script>
    <script src="recordScripts/main.js"></script>
    <style>
    /*html { overflow: hidden; }
    body { 
      font: 14pt Arial, sans-serif; 
      background: lightgrey;
      display: flex;
      flex-direction: column;
      height: 100vh;
      width: 100%;
      margin: 0 0;
    }*/
    canvas { 
      display: inline-block; 
      background: #202020; 
      width: 95%;
      height: 45%;
      box-shadow: 0px 0px 10px blue;
    }
    #controls {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-around;
      height: 20%;
      width: 100%;
    }
    #record { height: 15vh; }
    #record.recording { 
      background: red;
      background: -webkit-radial-gradient(center, ellipse cover, #ff0000 0%,lightgrey 75%,lightgrey 100%,#7db9e8 100%); 
      background: -moz-radial-gradient(center, ellipse cover, #ff0000 0%,lightgrey 75%,lightgrey 100%,#7db9e8 100%); 
      background: radial-gradient(center, ellipse cover, #ff0000 0%,lightgrey 75%,lightgrey 100%,#7db9e8 100%); 
    }
    #save, #save img { height: 10vh; }
    #save { opacity: 0.25;}
    #save[download] { opacity: 1;}
    #viz {
      height: 80%;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      align-items: center;
    }
    @media (orientation: landscape) {
      body { flex-direction: row;}
      #controls { flex-direction: column; height: 100%; width: 10%;}
      #viz { height: 100%; width: 90%;}
    }

    </style>
</head>
<body class="skin-blue">
  <% include header.ejs %>
  <div class="wrapper row-offcanvas row-offcanvas-left">

    <% include leftside.ejs %>

    <!-- Right side column. Contains the navbar and content of the page -->
    <aside class="right-side">                
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          <%= title %>
          <small><%= heading %></small>
        </h1>
        <ol class="breadcrumb">
          <li><a href="/"><i class="fa fa-home"></i> Home</a></li>
          <li class="active"><%= title %></li>
        </ol>
      </section>

      <!-- Main content -->
      <section class="content">

        <div class="callout callout-info">
          <h4>Please Allow the Page to access Audio</h4>
          <p>Press The Microphone button below and read the following paragraph</p>
        </div>

          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 well">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div id="controls">
                  <img id="record" src="recordScripts/microphone.png" onclick="toggleRecording(this);" style="max-width: 200% !important; cursor:pointer;">
                  <!-- <a id="save" href="#"><img src="img/save.svg"></a> -->
                </div>
              </div>
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      
                <div id="viz">
                  <canvas id="analyser" width="1024" height="500"></canvas>
                  <canvas id="wavedisplay" width="1024" height="500"></canvas>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <ul id="recordingslist">
      
              </ul>    
            </div>
          </div>

      </section><!-- /.content -->
    </aside><!-- /.right-side -->
  </div><!-- ./wrapper -->

<% if(logged){ %>
<script>
//set user id
var user_id = "<%= user._id %>";
</script>
<% } %>

</body>
</html>
